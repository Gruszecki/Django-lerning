{% extends 'main.html' %}

{% block title %}Project: film{% endblock %}

{% block body %}
    {% if user.is_authenticated %}
        Zalogowano jako: {{ user.username }}
        <a class="btn" href="{% url 'logout' %}">
            <i class="fa-solid fa-user-large-slash"></i>
        </a>
    {% else %}
        <a href="{% url 'login' %}">Log in</a>
    {% endif %}

    <hr>

    <h1>All films from database</h1>

    Bardzo cieszę się, że mogę Państwu przedstawić poniższe filmy (liczba filmów w bazie: {{ films|length }}).<br>
    <a class="btn" href="{% url 'new_film_view' %}" style="color:#d2ccc6;">
        Add new film
        <i class="fa-solid fa-film"></i>
    </a>
    <br><br>

    {% if films|length == 0 %}
        <p>Baza filmów jest jeszcze pusta.</p>
    {% else %}
        {% for film in films %}
            <h3>{{ film.title }} ({{ film.year }})
                <a class="btn" href="{% url 'edit_film_view' film.id %}">
                    <i class="fa-regular fa-pen-to-square"></i>
                </a>

                <a class="btn"  href="{% url 'delete_film_view' film.id %}">
                    <i class="fa-regular fa-trash-can"></i>
                </a>
            </h3>

            <p>{{ film.desc }}</p><br>

        {% endfor %}
    {% endif %}
{% endblock %}